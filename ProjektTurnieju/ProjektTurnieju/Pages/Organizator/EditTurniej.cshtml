@page
@model ProjektTurnieju.Pages.Organizator.EditTurniejModel
@{
	ViewData["Title"] = "Edycja turnieju";
}
@if(User.IsInRole(Role.Organizator.ToString()))
{
    <h1>Zarządzanie turniejem</h1>

    <div>
        <h4>Turniej</h4>
        <hr />
        <dl class="row">
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.newTurniej.Nazwa)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.newTurniej.Nazwa)
            </dd>
        </dl>
        <dl class="row">
            <dt class="col-sm-2">
                Drużyny
            </dt>
            <dd class="col-sm-10">
                @if (Model.newTurniej.Druzyny != null)
                {
                    foreach (var item in Model.newTurniej.Druzyny)
                    {
                        <div>@Html.DisplayFor(modelItem => item.NazwaDruzyny)</div>
                        <a asp-page="/Organizator/UsunZTurnieju" asp-route-id="@item.Id" asp-route-idTurnieju="@Model.newTurniej.Id">Usuń z turnieju</a>
                    }
                }
            </dd>
        </dl>
    </div>
    <div>
        <a asp-page="/Organizator/NazwaTurnieju" asp-route-id="@Model.newTurniej?.Id">Edit</a> |
        <a asp-page="/Organizator/DodajDruzyny" asp-route-id="@Model.newTurniej?.Id">Dodaj Drużynę</a> |
    </div>
    <div>
        <a asp-page="/Organizator/ListaTurnieji">Wróć do listy</a>
    </div>
}
else
{
	<h2>Sekcja tylko dla organizatorów</h2>
}